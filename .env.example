##############################
# AegisBridge PoC - Example .env
# Copy this file to `.env` and fill in the secrets.
##############################

##############################
# === RPC ENDPOINTS ===
##############################

# Sepolia RPC (utama + backup)
# Untuk SEPOLIA_RPC_URL sebaiknya pakai provider ber-API key (Alchemy/Infura/dll)
SEPOLIA_RPC_URL=https://eth-sepolia.g.alchemy.com/v2/YOUR_ALCHEMY_KEY_HERE
SEPOLIA_RPC_URL_1=https://0xrpc.io/sep
SEPOLIA_RPC_URL_2=https://eth-sepolia-testnet.api.pocket.network
SEPOLIA_RPC_URL_3=https://ethereum-sepolia-rpc.publicnode.com
SEPOLIA_RPC_URL_4=

# Amoy RPC (utama + backup)
# AMOY_RPC_URL boleh langsung pakai public RPC
AMOY_RPC_URL=https://polygon-amoy-public.nodies.app
AMOY_RPC_URL_1=https://polygon-amoy.drpc.org
AMOY_RPC_URL_2=https://rpc-amoy.polygon.technology
AMOY_RPC_URL_3=https://polygon-amoy.g.alchemy.com/v2/YOUR_ALCHEMY_KEY_HERE

##############################
# === KEYS (JANGAN DI-COMMIT) ===
##############################

# Private key EVM (tanpa 0x, 64 karakter hex)
# Pakai wallet yang sama untuk deployer + relayer testnet,
# atau pisah kalau mau lebih aman.
PRIVATE_KEY=YOUR_PRIVATE_KEY_HEX_NO_0X
DEPLOYER_PRIVATE_KEY=YOUR_PRIVATE_KEY_HEX_NO_0X
TEST_SENDER_PRIVATE_KEY=YOUR_PRIVATE_KEY_HEX_NO_0X

##############################
# === NETWORK / HEALTH ===
##############################

NETWORK_ENV=testnet
HEALTH_PORT=8081

##############################
# === TOKEN & BRIDGE ADDRESSES (AKTIF v2) ===
##############################
# Address di bawah ini adalah deployment contoh di:
#   - Sepolia (SourceBridge v2 + ATT)
#   - Polygon Amoy (TargetBridge v2 + wATT)
# Boleh dipakai apa adanya untuk uji PoC, atau diganti kalau deploy ulang.

# ATT di Sepolia
ATT_SEPOLIA=0xDc925c125DC7b51946031761c1693eA6238Bf3fb

# Source bridge v2 di Sepolia (aktif)
SEPOLIA_SOURCE_BRIDGE=0x1B1B61bfc1922b3ACB0cd52a00F6472A84820D99
SEPOLIA_SOURCE_BRIDGE_V2=0x1B1B61bfc1922b3ACB0cd52a00F6472A84820D99
SOURCE_BRIDGE_SEPOLIA=0x1B1B61bfc1922b3ACB0cd52a00F6472A84820D99
SEPOLIA_BRIDGE_ADDRESS=0x1B1B61bfc1922b3ACB0cd52a00F6472A84820D99

# Target bridge v2 di Amoy
AMOY_TARGET_BRIDGE_V2=0x3438B1700C8c08eB3F7eF9bc2D5115bE1B0343A5
TARGET_BRIDGE_AMOY=0x3438B1700C8c08eB3F7eF9bc2D5115bE1B0343A5

# Wallet penguji (boleh ganti)
TEST_RECIPIENT_AMOY=0x36b95469dd6eA8d1e17c6bC65513e8c9f53ec50a
TEST_SENDER_ADDRESS=0x36b95469dd6eA8d1e17c6bC65513e8c9f53ec50a

# wATT token di Amoy
AMOY_WATT_TOKEN=0x9A068771D7FcdB50b1ce41dfFb184099b5f32Dc4
WATT_AMOY=0x9A068771D7FcdB50b1ce41dfFb184099b5f32Dc4
AMOY_WATT=0x9A068771D7FcdB50b1ce41dfFb184099b5f32Dc4
AMOY_BRIDGE_ADDRESS=0x3438B1700C8c08eB3F7eF9bc2D5115bE1B0343A5

##############################
# === RELAYER CONFIG (v2) ===
##############################

RELAYER_DRY_RUN=false
RELAYER_MAX_RETRIES=3
RELAYER_RETRY_DELAY_MS=10000

# Mulai sync dari sekitar block terakhir lock (boleh dimundurin dikit)
RELAYER_FROM_BLOCK_SEPOLIA=9810800
RELAYER_FROM_BLOCK_AMOY=30299500

RELAYER_DISABLE_SYNC=false
RELAYER_POLL_INTERVAL_MS=5000
RELAYER_MINT_GAS_LIMIT=300000
RELAYER_UNLOCK_GAS_LIMIT=300000

##############################
# === AUTO POOL / TOPUP CONFIG ===
##############################

# Range scan eth_getLogs (max 10 block utk beberapa RPC free tier)
SEPOLIA_LOG_MAX_RANGE=10

# Block kira-kira awal SourceBridge v2 dipakai lock
SEPOLIA_LOCKED_FROM_BLOCK=9812700

# Batas maksimal topup otomatis (dalam unit wATT, bukan wei)
AMOY_BRIDGE_TOPUP_MAX_WATT=15000

# Optional: nilai tetap untuk topup manual (kalau masih dipakai script lama)
WATT_POOL_TOPUP=5000

##############################
# === SAMPLE RETURN FLOW (MANUAL TEST) ===
##############################

RETURN_USER=0x36b95469dd6eA8d1e17c6bC65513e8c9f53ec50a
RETURN_AMOUNT=1000
RETURN_NONCE=1

##############################
# === DEBUG / MISC ===
##############################

BRIDGE_RELAYER=0x36b95469dd6eA8d1e17c6bC65513e8c9f53ec50a
TX_HASH=0x478004662016a12c85498bf9a0309ae6f0cb231982e1c432c5c2f0792f15bffd
CHECK_NONCE=12

##############################
# === LEGACY V1 (OPSIONAL) ===
##############################

BRIDGE_CONTRACT_SEPOLIA=0x4Fb169EDA4C92de96634595d36571637CFbb4437
BRIDGE_CONTRACT_AMOY=0xA9E3bf15148EA340e76B851483486ca546eD8018
